import{a as p,i as a,S as q}from"./assets/vendor-D-hiYp1V.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const e of n.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&i(e)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();p.defaults.baseURL="https://pixabay.com/api/";let E=15;async function f(s,t=1){try{const i=(await p.get("",{params:{key:"54641961-e96e5217be963f5aab39f9ddc",q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:E,page:t}})).data;return i.hits.length===0&&a.warning({title:"No results",message:"Sorry, there are no images matching your search query. Please try again!",position:"center",timeout:5e3}),i}catch(r){throw a.error({title:"Error",message:r.message,position:"center",timeout:5e3}),r}}const g=new q(".gallery a",{captionsData:"alt",captionPosition:"bottom",captionDelay:250});function v(s){const t=document.querySelector(".gallery"),r=s.map(e=>`
<li class="gallery-item">
  <a class="gallery-link" href="${e.largeImageURL}">
    <img 
      class="gallery-image" 
      src="${e.webformatURL}" 
      alt="${e.tags}"
    />
  </a>
  <div class="info">
    <div class="info-titles">
      <p>Likes</p>
      <p>Views</p>
      <p>Comments</p>
      <p>Downloads</p>
    </div>
    <div class="info-values">
      <p>${e.likes}</p>
      <p>${e.views}</p>
      <p>${e.comments}</p>
      <p>${e.downloads}</p>
    </div>
  </div>
</li>
  `).join("");t.innerHTML=r,t.style.display="flex",t.style.flexWrap="wrap",t.style.gap="24px",t.style.justifyContent="center",t.style.alignItems="center",t.style.listStyle="none",t.style.maxWidth="1200px",t.style.margin="0 auto",t.querySelectorAll("li").forEach(e=>{e.style.flex="1 1 360px",e.style.height="200px",e.style.border="1px solid #808080",e.style.overflow="hidden",e.style.width="360px",e.style.display="flex",e.style.flexDirection="column"}),t.querySelectorAll("img").forEach(e=>{e.style.width="100%",e.style.height="160px",e.style.objectFit="cover",e.style.display="block"}),t.querySelectorAll(".info").forEach(e=>{e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.style.padding="4px",e.style.fontSize="12px";const d=e.querySelector(".info-titles"),y=e.querySelector(".info-values");d.style.display="flex",d.style.justifyContent="space-around",d.style.width="100%",d.style.fontWeight="bold",y.style.display="flex",y.style.justifyContent="space-around",y.style.width="100%"}),g.refresh()}function I(){const s=document.querySelector(".gallery");s.innerHTML="",g.refresh()}function L(){document.getElementById("loader").classList.remove("is-hidden")}function x(){document.getElementById("loader").classList.add("is-hidden")}function C(){document.querySelector(".load-more").classList.remove("is-hidden")}function h(){document.querySelector(".load-more").classList.add("is-hidden")}const w=document.querySelector(".form"),B=w.querySelector('input[name="search-text"]'),$=document.querySelector(".load-more");let l=document.querySelector(".end-message");l||(l=document.createElement("div"),l.className="end-message is-hidden",l.textContent="We're sorry, but you've reached the end of search results.",document.querySelector("main").appendChild(l));let m="",u=1,b=0,c=[];function S(){c.length>=b?(h(),l.classList.remove("is-hidden"),a.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"center",timeout:5e3})):(C(),l.classList.add("is-hidden"))}w.addEventListener("submit",async s=>{s.preventDefault();const t=B.value.trim();if(!t){a.warning({title:"Warning",message:"Please enter a search query!",position:"center"});return}m=t,u=1,c=[],I(),h(),l.classList.add("is-hidden"),L();try{const r=await f(m,u),i=r.hits;if(b=r.totalHits,!i||i.length===0){l.textContent="Sorry, there are no images matching your search query.",l.classList.remove("is-hidden"),a.warning({title:"No results",message:"Sorry, there are no images matching your search query.",position:"center",timeout:5e3});return}c=[...i],v(c),S()}catch(r){a.error({title:"Error",message:`Failed to fetch images: ${r.message}`,position:"topRight",timeout:5e3}),console.error("Error fetching images:",r)}finally{x()}});$.addEventListener("click",async()=>{u+=1,h(),l.classList.add("is-hidden"),L();try{const t=(await f(m,u)).hits;if(!t||t.length===0){l.classList.remove("is-hidden"),a.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"center",timeout:5e3});return}c.push(...t),v(c);const r=document.querySelector(".gallery li");if(r){const{height:i}=r.getBoundingClientRect();window.scrollBy({top:i*2,behavior:"smooth"})}S()}catch(s){a.error({title:"Error",message:`Failed to load more images: ${s.message}`,position:"topRight",timeout:5e3}),console.error("Error fetching more images:",s)}finally{x()}});
//# sourceMappingURL=index.js.map
