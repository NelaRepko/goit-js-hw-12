import{a as f,i as d,S as E}from"./assets/vendor-D-hiYp1V.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();f.defaults.baseURL="https://pixabay.com/api/";let C=15;async function g(r,t=1){try{const l=(await f.get("",{params:{key:"54641961-e96e5217be963f5aab39f9ddc",q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:C,page:t}})).data;return l.hits.length===0&&d.warning({title:"No results",message:"Sorry, there are no images matching your search query. Please try again!",position:"center",timeout:5e3}),l}catch(s){throw d.error({title:"Error",message:s.message,position:"center",timeout:5e3}),s}}const L=new E(".gallery a",{captionsData:"alt",captionPosition:"bottom",captionDelay:250});function w(r){const t=document.querySelector(".gallery"),s=r.length%3;if(s!==0){const e=3-s;for(let n=0;n<e;n++)r.push("")}const l=r.map(e=>e?`
<li class="gallery-item">
  <a class="gallery-link" href="${e.largeImageURL}">
    <img 
      class="gallery-image" 
      src="${e.webformatURL}" 
      alt="${e.tags}"
    />
  </a>
  <div class="info">
    <div class="info-titles">
      <p>Likes</p>
      <p>Views</p>
      <p>Comments</p>
      <p>Downloads</p>
    </div>
    <div class="info-values">
      <p>${e.likes}</p>
      <p>${e.views}</p>
      <p>${e.comments}</p>
      <p>${e.downloads}</p>
    </div>
  </div>
</li>
    `:'<li class="gallery-item empty-item"></li>').join("");t.innerHTML=l,t.style.display="flex",t.style.flexWrap="wrap",t.style.gap="24px",t.style.justifyContent="center",t.style.alignItems="center",t.style.listStyle="none",t.style.maxWidth="1200px",t.style.margin="0 auto",t.querySelectorAll("li").forEach(e=>{e.style.flex="1 1 360px",e.style.height="200px",e.style.border=e.classList.contains("empty-item")?"none":"1px solid #808080",e.style.overflow="hidden",e.style.width="360px",e.style.display="flex",e.style.flexDirection="column",e.style.background=e.classList.contains("empty-item")?"transparent":"white"}),t.querySelectorAll("img").forEach(e=>{e.style.width="100%",e.style.height="160px",e.style.objectFit="cover",e.style.display="block"}),t.querySelectorAll(".info").forEach(e=>{e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.style.padding="4px",e.style.fontSize="12px";const n=e.querySelector(".info-titles"),h=e.querySelector(".info-values");n.style.display="flex",n.style.justifyContent="space-around",n.style.width="100%",n.style.fontWeight="bold",h.style.display="flex",h.style.justifyContent="space-around",h.style.width="100%"}),L.refresh()}function I(){const r=document.querySelector(".gallery");r.innerHTML="",L.refresh()}function v(){document.getElementById("loader").classList.remove("is-hidden")}function x(){document.getElementById("loader").classList.add("is-hidden")}const b=document.querySelector(".form"),$=b.querySelector('input[name="search-text"]'),y=document.querySelector(".load-more");let i=document.querySelector(".end-message");i||(i=document.createElement("div"),i.className="end-message",i.textContent="We're sorry, but you've reached the end of search results.",document.querySelector(".gallery-footer").appendChild(i));let m="",p=1,S=0,c=[];function q(){c.length>=S?(y.classList.add("is-hidden"),i.classList.add("show")):(y.classList.remove("is-hidden"),i.classList.remove("show"))}b.addEventListener("submit",async r=>{r.preventDefault();const t=$.value.trim();if(!t){d.warning({title:"Warning",message:"Please enter a search query!",position:"center"});return}m=t,p=1,c=[],I(),y.classList.add("is-hidden"),i.classList.remove("show"),v();try{const s=await g(m,p),l=s.hits;if(S=s.totalHits,!l||l.length===0){i.textContent="Sorry, there are no images matching your search query.",i.classList.add("show");return}c=[...l],w(c),q()}catch(s){d.error({title:"Error",message:`Failed to fetch images: ${s.message}`,position:"topRight",timeout:5e3}),console.error("Error fetching images:",s)}finally{x()}});y.addEventListener("click",async()=>{p+=1,y.classList.add("is-hidden"),i.classList.remove("show"),v();try{const t=(await g(m,p)).hits;if(!t||t.length===0){i.textContent="We're sorry, but you've reached the end of search results.",i.classList.add("show"),d.info({title:"End",message:"We're sorry, but you've reached the end of search results.",position:"center"});return}c.push(...t),w(c);const s=document.querySelector(".gallery li");if(s){const{height:l}=s.getBoundingClientRect();window.scrollBy({top:l*2,behavior:"smooth"})}q()}catch(r){d.error({title:"Error",message:`Failed to load more images: ${r.message}`,position:"topRight",timeout:5e3}),console.error("Error fetching more images:",r)}finally{x()}});
//# sourceMappingURL=index.js.map
